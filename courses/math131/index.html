<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="description" content="Personal website of Ben Fraser, with math education activities for students and teachers.">
  <meta charset="UTF-8" />
  <title>MATH 131 - Mathematics for Elementary Education I</title>
  <link rel="stylesheet" href="/style.css" />
</head>
<body>
  <header>
    <h1>MATH 131 - Mathematics for Elementary Education I</h1>
    <div id="nav-placeholder"></div>
      <script>
        fetch("/nav.html")
          .then(response => response.text())
          .then(data => {
            document.getElementById("nav-placeholder").innerHTML = data;
        
            const currentPath = window.location.pathname.replace(/\/index\.html$/, "/");
            const navLinks = document.querySelectorAll("#nav-placeholder a");
        
            navLinks.forEach(link => {
              const linkPath = new URL(link.href).pathname.replace(/\/index\.html$/, "/");
              if (linkPath === currentPath) {
                link.classList.add("active");
              }
            });
          });

              const HELP_LINK_ID = 'help-link';
      const MASCOT_ID = 'mascot';
      const MASCOT_IMG_ID = 'mascot-img';
      const MASCOT_CLOSE_ID = 'mascot-close';
      const MASCOT_SRC = '/protacty.png'; // or '/images/protacty.png' if thatâ€™s where you put it

      let mascotReady = false;
      let processedURL = null;

      async function loadAndKeyWhite(src) {
        const img = new Image();
        img.src = src;               // same-origin on GitHub Pages
        await img.decode();

        const c = document.createElement('canvas');
        c.width = img.width; c.height = img.height;
        const ctx = c.getContext('2d');
        ctx.drawImage(img, 0, 0);

        const data = ctx.getImageData(0, 0, c.width, c.height);
        const d = data.data;
        for (let i = 0; i < d.length; i += 4) {
          const r = d[i], g = d[i+1], b = d[i+2];
          if (r > 245 && g > 245 && b > 245) d[i+3] = 0; // key out near-white
        }
        ctx.putImageData(data, 0, 0);
        return c.toDataURL('image/png');
      }

      async function showMascot() {
        const wrap = document.getElementById(MASCOT_ID);
        const imgEl = document.getElementById(MASCOT_IMG_ID);

        if (!mascotReady) {
          try {
            processedURL = await loadAndKeyWhite(MASCOT_SRC);
            imgEl.src = processedURL;
            mascotReady = true;
          } catch (e) {
            console.error('Mascot load failed:', e);
            imgEl.src = MASCOT_SRC; // fallback
          }
        }
        wrap.hidden = false;
      }

      function hideMascot() {
        const wrap = document.getElementById(MASCOT_ID);
        if (wrap) wrap.hidden = true;
      }

      // Attach listeners now that nodes exist
      const helpLink = document.getElementById(HELP_LINK_ID);
      const closeBtn = document.getElementById(MASCOT_CLOSE_ID);
      console.log('Help link found?', !!helpLink, ' Mascot found?', !!document.getElementById(MASCOT_ID));

      if (helpLink) helpLink.addEventListener('click', (e) => { e.preventDefault(); showMascot(); });
      if (closeBtn) closeBtn.addEventListener('click', hideMascot);
    });
      </script>
  </header>
  <main>
    <p>Welcome to the supplementary page for MATH 131: Mathematics for Elementary Education I.  Here you will find some additional materials
      and links.  </p>

    <p>Counting the number of elements in different regions of a Venn Diagram:
      <a href="https://ben-math.github.io/courses/math131/setcardinality.html">Set Cardinality Activity</a></p>

    <p>On converting between the decimal, binary, and quinary place-value systems:
      <a href="https://ben-math.github.io/courses/math131/basechange.html">Change of Base Activity</a></p>

    <p>A strategy for arithmetic when the numbers involved are close to convenient/round numbers:
      <a href="https://ben-math.github.io/courses/math131/arithmetic.html">An Arithmetic Strategy</a></p>
    
    <p><a href="https://ben-math.github.io/courses/math131/addition.html">Addition Activity</a></p>

    <p><a href="https://ben-math.github.io/courses/math131/subtraction.html">Subtraction Activity</a></p>

    <p><a href="https://ben-math.github.io/courses/math131/multiplication.html">Multiplication Activity</a></p>

    <p><a href="https://ben-math.github.io/courses/math131/division.html">Division Activity</a></p>

    <p>The following will contain an alternate version of the subtraction activity.  Read the article on manipulatives 
      <a href="https://ben-math.github.io/courses/math131/readings.html">here</a> and then give them it a look, and decide
    which version you think is best.</p>

    <p>On converting between units, and scaling a recipe:
      <a href="https://ben-math.github.io/courses/math131/unitconversion.html">Unit Conversion Activity</a></p>
  </main>

  
</body>
</html>
