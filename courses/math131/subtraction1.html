<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Subtraction Activity 1</title>
  <link rel="stylesheet" href="/math-tools/style.css" />
</head>
<body>
  <header>
    <h1>Subtraction Activity 1</h1>
    <div id="nav-placeholder"></div>
      <script>
        fetch("/math-tools/nav.html")
          .then(response => response.text())
          .then(data => {
            document.getElementById("nav-placeholder").innerHTML = data;
        
            const currentPath = window.location.pathname.replace(/\/index\.html$/, "/");
            const navLinks = document.querySelectorAll("#nav-placeholder a");
        
            navLinks.forEach(link => {
              const linkPath = new URL(link.href).pathname.replace(/\/index\.html$/, "/");
              if (linkPath === currentPath) {
                link.classList.add("active");
              }
            });
          });
      </script>
  </header>
  <main>

    <div class="button-container">
      <button id="start-btn" class="rubber-button">Start!</button>
    </div>
    
    <p id="question-text"></p>

    <div class="activity-box" id="my-activity">

      <div class="column" style="left: 50px; top: 40px;">
        <div class="column-label">Ones</div>
        <div class="regroup-zone">Regroup</div>
        <div class="block-stack" id="minuend-ones-stack"></div>
        <div class="block-count" id="minuend-ones-count">0</div>
      </div>

    </div>



  </main>
  <script>
    const startBtn = document.getElementById('start-btn');
    const questionText = document.getElementById('question-text');
    const activityBox = document.getElementById('my-activity');
  
    startBtn.addEventListener('click', () => {
      // Generate two numbers between 1 and 200
      let a = Math.floor(Math.random() * 200) + 1;
      let b = Math.floor(Math.random() * 200) + 1;
  
      if (b > a) [a, b] = [b, a]; // ensure a ≥ b
  
      // Display the question
      questionText.textContent = `What is ${a} − ${b}?  Remember that each place value column should contain between 0 and 9 blocks at the end!`;

      function createColumn({ label, idPrefix, left, top, hasRegroup = true }) {
        const column = document.createElement('div');
        column.classList.add('column');
        column.style.left = `${left}px`;
        column.style.top = `${top}px`;
      
        const labelDiv = document.createElement('div');
        labelDiv.classList.add('column-label');
        labelDiv.textContent = label;
        column.appendChild(labelDiv);
      
        if (hasRegroup) {
          const regroup = document.createElement('div');
          regroup.classList.add('regroup-zone');
          regroup.textContent = 'Regroup';
          column.appendChild(regroup);
        }
      
        const stack = document.createElement('div');
        stack.classList.add('block-stack');
        stack.id = `${idPrefix}-stack`;
        column.appendChild(stack);
      
        const count = document.createElement('div');
        count.classList.add('block-count');
        count.id = `${idPrefix}-count`;
        count.textContent = '0';
        column.appendChild(count);
      
        return column;
      }

      
      // Clear the activity box
      activityBox.innerHTML = '';
    });
  </script>

</body>
</html>
