<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="description" content="Personal website of Ben Fraser, with math education activities for students and teachers.">
  <meta charset="UTF-8" />
  <title>Unit Conversion Activity</title>
  <link rel="stylesheet" href="/style.css" />

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>
</head>
<body>
  <header>
    <h1>Unit Conversion Activity</h1>
    <div id="nav-placeholder"></div>
      <script>
        fetch("/nav.html")
          .then(response => response.text())
          .then(data => {
            document.getElementById("nav-placeholder").innerHTML = data;
        
            const currentPath = window.location.pathname.replace(/\/index\.html$/, "/");
            const navLinks = document.querySelectorAll("#nav-placeholder a");
        
            navLinks.forEach(link => {
              const linkPath = new URL(link.href).pathname.replace(/\/index\.html$/, "/");
              if (linkPath === currentPath) {
                link.classList.add("active");
              }
            });
          });
      </script>
  </header>
  <main>

    <p>We will start with a topic that superficially might seem obvious: what does the word "unit" mean?  We talk about the importance of stating 
    "what are the units?", but why do we call them such?  "Unit" means "One", and when we say "One", one rightly might ask "One what?"... so by adding 
    a suffix to the number (km, mL), we are specifying what "One" we are talking about.</p>

    <p>In this activity, we will combine two problems which often occur simultaneously: conversion between units, and scaling up/down of a 
    recipe.</p>

    <p>We first tackle unit conversion.  The metric system has a handy <i>prefix</i> system, which tells us which power of ten to multiply by 
    in our conversion:
    \[
    \begin{array}{|c|c|}
    \hline
    \text{Prefix} & \text{Multiplier} \\
    \hline
    \text{Mega} & 10^6 \\
    \text{Kilo} & 10^3 \\
    \text{Hecto} & 10^2 \\
    \text{Deca} & 10 \\
    \text{(None)} & 1 \\
    \text{Deci} & 10^{-1} \\
    \text{Centi} & 10^{-2} \\
    \text{Milli} & 10^{-3} \\
    \text{Micro} & 10^{-6} \\
    \hline
    \end{array}
    \]  So for example, a kilometer is equal to one thousand meters, and a meter is equal to one thousand millimeters.  
      (Does this mean Megatron is the equivalent of one million "trons"?  Is Hector is the equivalent of a hundred "rs"?)</p>

    <p>This is sufficient information to convert <i>within</i> the metric system.  Unfortunately, we occasionally need to switch into the imperial 
    system, and so need some points of reference (famously, a mission to Mars failed because of some metric/imperial confusion: yes, we should all 
    rightly look with disdain on the imperial system).</p>


    <div class="button-container">
      <button id="start-btn" class="rubber-button">Start!</button>
    </div>
    
    <p id="question-text"></p>

    <div class="button-container">
      <button id="hint-btn" class="rubber-button">Hint</button>
    </div>
    
    <div id="hint-area" class="math" style="margin-top: 1em;"></div>


    <div id="answer-section" style="margin-top: 20px; text-align: center;">
      <label for="user-answer">Enter your answer:</label>
      <input type="number" id="user-answer" />
      <button id="check-answer-btn" class="rubber-button">Check Answer</button>
      <p id="answer-feedback" style="font-weight: bold; margin-top: 10px;"></p>
    </div>




  </main>
  <script>

    let m1, m2, m3 = 0;
    
    const hintBtn = document.getElementById('hint-btn');
    const hintArea = document.getElementById('hint-area');
    
    // This array stores your LaTeX hints
    let hintSteps = [];
    let hintIndex = 0;
    
    const startBtn = document.getElementById('start-btn');
    const questionText = document.getElementById('question-text');

    
    let correctAnswer = null;
  
    startBtn.addEventListener('click', () => {

      // Play sound when view button is clicked
      const sound = document.getElementById('click-sound');
      if (sound) {
        sound.currentTime = 0; // rewind to start in case it's still playing
        sound.play();
      }

      m1 = Math.floor(Math.random() *2) + 1;
      m2 = Math.floor(Math.random() *2) + 1;
      m3 = Math.floor(Math.random() *2) + 1;

      

      hintSteps = [];
      hintIndex = 0;

      // Here we will generate and store hints
      let i = 0


      let question = "";
      

  
      // Display the question
      questionText.textContent = question;
      MathJax.typeset([questionText]);

      hintIndex = 0;
      hintArea.innerHTML = "";  // Clear previous hints

      
      
    });


    
    document.getElementById('check-answer-btn').addEventListener('click', () => {
      // Play sound when view button is clicked
      const sound = document.getElementById('click-sound');
      if (sound) {
        sound.currentTime = 0; // rewind to start in case it's still playing
        sound.play();
      }
      const userInput = parseInt(document.getElementById('user-answer').value);
      const feedback = document.getElementById('answer-feedback');
    
      if (isNaN(userInput)) {
        feedback.textContent = 'Please enter a number.';
        feedback.style.color = 'black';
      } else if (userInput === correctAnswer) {
        feedback.textContent = 'Correct!';
        feedback.style.color = 'green';
      } else {
        feedback.textContent = 'Incorrect. Try again!';
        feedback.style.color = 'red';
      }
    });



    hintBtn.addEventListener('click', () => {
      // Play sound when view button is clicked
      const sound = document.getElementById('click-sound');
      if (sound) {
        sound.currentTime = 0; // rewind to start in case it's still playing
        sound.play();
      }
      if (hintIndex < hintSteps.length) {
        // Create a new paragraph for each hint
        const hintPara = document.createElement('div');
        hintPara.classList.add('hint-step');
        hintPara.textContent = hintSteps[hintIndex];
        hintArea.appendChild(hintPara);
        
        MathJax.typeset([hintPara]);
        hintIndex++;
      }
    });




    
  </script>

  <audio id="click-sound" src="button.mp3" preload="auto"></audio>
  <audio id="set-sound" src="set2.mp3" preload="auto"></audio>

</body>
</html>
