<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="description" content="Personal website of Ben Fraser, with math education activities for students and teachers.">
  <meta charset="UTF-8" />
  <title>Exponent Laws Activity</title>
  <link rel="stylesheet" href="/style.css" />
</head>
<body>
  <header>
    <h1>Exponent Laws Activity</h1>
    <div id="nav-placeholder"></div>
      <script>
        fetch("/nav.html")
          .then(response => response.text())
          .then(data => {
            document.getElementById("nav-placeholder").innerHTML = data;
        
            const currentPath = window.location.pathname.replace(/\/index\.html$/, "/");
            const navLinks = document.querySelectorAll("#nav-placeholder a");
        
            navLinks.forEach(link => {
              const linkPath = new URL(link.href).pathname.replace(/\/index\.html$/, "/");
              if (linkPath === currentPath) {
                link.classList.add("active");
              }
            });
          });
      </script>
  </header>
  <main>
    <div class="button-container">
      <button id="start-btn" class="rubber-button">Start!</button>
    </div>
    
    <p id="question-text"></p>

    <div class="activity-box" id="my-activity">

    </div>

  </main>

  <script>

    const startBtn = document.getElementById('start-btn');
    const questionText = document.getElementById('question-text');
    const activityBox = document.getElementById('my-activity');


        function addTextToActivityBox(text, x, y) {
      const txt = document.createElement('div');
      txt.classList.add('activity-text');
      txt.textContent = text;
      txt.style.left = `${x}px`;
      txt.style.top = `${y}px`;
      activityBox.appendChild(txt);
    }

    function addLargeTextToActivityBox(text, x, y) {
      const txt = document.createElement('div');
      txt.classList.add('activity-text-large');
      txt.textContent = text;
      txt.style.left = `${x}px`;
      txt.style.top = `${y}px`;
      activityBox.appendChild(txt);
    }

    function addHugeTextToActivityBox(text, x, y) {
      const txt = document.createElement('div');
      txt.classList.add('activity-text-huge');
      txt.textContent = text;
      txt.style.left = `${x}px`;
      txt.style.top = `${y}px`;
      activityBox.appendChild(txt);
    }

    function addExponentTermToActivityBox(base, exponent, x, y, isBlank = false, id = '') {
      const term = document.createElement('div');
      term.style.position = 'absolute';
      term.style.left = `${x}px`;
      term.style.top = `${y}px`;
      term.style.fontSize = '50px';
      term.style.fontFamily = "'Comic Sans MS', cursive, sans-serif";
      term.style.fontWeight = 'bold';
    
      if (isBlank) {
        term.innerHTML = `${base}<sup><span class="blank-exponent" id="${id}">___</span></sup>`;
      } else {
        term.innerHTML = `${base}<sup>${exponent}</sup>`;
      }
    
      activityBox.appendChild(term);
    }

    
  startBtn.addEventListener('click', () => {

      let a1 = Math.floor(Math.random() * 19) - 9;
      let a2 = Math.floor(Math.random() * 19) - 9;
      let a3 = Math.floor(Math.random() * 9) - 4;
      let b1 = Math.floor(Math.random() * 19) - 9;
      let b2 = Math.floor(Math.random() * 19) - 9;
      let b3 = Math.floor(Math.random() * 9) - 4;
      let c1 = Math.floor(Math.random() * 19) - 9;
      let c2 = Math.floor(Math.random() * 19) - 9;
      let c3 = Math.floor(Math.random() * 9) - 4;
    
      let d1 = a1*a3 + b1*b3 - c1*c3;
      let d2 = a2*a3 + b2*b3 - c2*c3;

      // Choose RHS unknown
      const rhsMissing = Math.random() < 0.5 ? 'd1' : 'd2';
      const rhsCorrectValue = rhsMissing === 'd1' ? d1 : d2;
      
      // Possible LHS exponents
      const lhsCandidates = rhsMissing === 'd1'
        ? ['a1', 'a3', 'b1', 'b3', 'c1', 'c3']
        : ['a2', 'a3', 'b2', 'b3', 'c2', 'c3'];
      
      const lhsMissing = lhsCandidates[Math.floor(Math.random() * lhsCandidates.length)];
      const lhsCorrectValue = eval(lhsMissing); // grabs a1, a3, etc.




    
      
  
      // Display the question
      questionText.textContent = `Drag and drop exponents to the empty slots to make the equation true!`;

      
      // Clear the activity box
      activityBox.innerHTML = '';
      
      let xStart = 100;
      let yStart = 100;
      
      // Example: ((x^a1 y^a2)^a3 * (x^b1 y^b2)^b3) / ((x^c1 y^c2)^c3)
      addHugeTextToActivityBox("(", xStart, yStart);
      xStart += 30;
      addExponentTermToActivityBox("x", lhsMissing === 'a1' ? '' : a1, xStart, yStart, lhsMissing === 'a1', 'blank-a1');
      xStart += 70;
      addExponentTermToActivityBox("y", lhsMissing === 'a2' ? '' : a2, xStart, yStart, lhsMissing === 'a2', 'blank-a2');
      xStart += 70;
      addHugeTextToActivityBox(")", xStart, yStart);
      xStart += 30;
      addHugeTextToActivityBox(`^${lhsMissing === 'a3' ? '___' : a3}`, xStart, yStart); // no need to use the term helper here
      xStart += 60;
      
      addHugeTextToActivityBox("Ã—", xStart, yStart);
      xStart += 40;
      
      // Continue with second group...
      addHugeTextToActivityBox("(", xStart, yStart);
      xStart += 30;
      addExponentTermToActivityBox("x", lhsMissing === 'b1' ? '' : b1, xStart, yStart, lhsMissing === 'b1', 'blank-b1');
      xStart += 70;
      addExponentTermToActivityBox("y", lhsMissing === 'b2' ? '' : b2, xStart, yStart, lhsMissing === 'b2', 'blank-b2');
      xStart += 70;
      addHugeTextToActivityBox(")", xStart, yStart);
      xStart += 30;
      addHugeTextToActivityBox(`^${lhsMissing === 'b3' ? '___' : b3}`, xStart, yStart);
      xStart += 60;
      
      // Continue with denominator and RHS the same way...




      const options = new Set([lhsCorrectValue, rhsCorrectValue]);
      while (options.size < 8) {
        options.add(Math.floor(Math.random() * 19) - 9);
      }
      const optionArray = [...options].sort(() => Math.random() - 0.5);






    });
    
  </script>
  
</body>
</html>
