<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Exponent Laws Activity</title>
  <link rel="stylesheet" href="/style.css" />
</head>
<body>
  <header>
    <h1>Exponent Laws Activity</h1>
    <div id="nav-placeholder"></div>
      <script>
        fetch("/nav.html")
          .then(response => response.text())
          .then(data => {
            document.getElementById("nav-placeholder").innerHTML = data;
        
            const currentPath = window.location.pathname.replace(/\/index\.html$/, "/");
            const navLinks = document.querySelectorAll("#nav-placeholder a");
        
            navLinks.forEach(link => {
              const linkPath = new URL(link.href).pathname.replace(/\/index\.html$/, "/");
              if (linkPath === currentPath) {
                link.classList.add("active");
              }
            });
          });
      </script>
  </header>
  <main>
    <div class="button-container">
      <button id="start-btn" class="rubber-button">Start!</button>
    </div>
    
    <p id="question-text"></p>

    <div class="activity-box" id="my-activity">

    </div>

  </main>

  <script>


        function addTextToActivityBox(text, x, y) {
      const txt = document.createElement('div');
      txt.classList.add('activity-text');
      txt.textContent = text;
      txt.style.left = `${x}px`;
      txt.style.top = `${y}px`;
      activityBox.appendChild(txt);
    }

    function addLargeTextToActivityBox(text, x, y) {
      const txt = document.createElement('div');
      txt.classList.add('activity-text-large');
      txt.textContent = text;
      txt.style.left = `${x}px`;
      txt.style.top = `${y}px`;
      activityBox.appendChild(txt);
    }
    
  startBtn.addEventListener('click', () => {

      let a,b;
      // Generate two numbers between 1 and 199
      while (true) {
        a = Math.floor(Math.random() * 400) + 1;
        b = Math.floor(Math.random() * 400) + 1;
        if (b > a) [a, b] = [b, a]; // ensure a ≥ b
      
        const aones = (a % 10);
        const bones = (b % 10);
        const atens = (Math.floor(a / 10) % 10);
        const btens = (Math.floor(b / 10) % 10)
      
        if (btens > atens && bones > aones) break;
      }
      
      correctAnswer = a - b;
  
      // Display the question
      questionText.textContent = `What is ${a} − ${b}?  Drag blocks from the difference to the subtrahend section, regrouping as needed.  Remember each place value column should contain a single digit at the end!`;

      
      // Clear the activity box
      activityBox.innerHTML = '';

      addTextToActivityBox("Starting Amount (Minuend)", 105, 10);


      addTextToActivityBox("Take Away/Minus (Subtrahend)", 510, 10);
      addLargeTextToActivityBox("-", 425, 320);


      addTextToActivityBox("Result/Answer (Difference)", 955, 10);
      addLargeTextToActivityBox("=", 850, 320);





    });
    
  </script>
  
</body>
</html>
